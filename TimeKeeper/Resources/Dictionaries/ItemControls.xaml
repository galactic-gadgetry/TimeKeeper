<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:sys="clr-namespace:System;assembly=mscorlib">


    <CornerRadius x:Key="ScrollBarCornerRadius">4</CornerRadius>
    <sys:Double x:Key="ScrollBarWidth">5</sys:Double>
    
    
    <!-- #ScrollViewers -->
    <Style x:Key="RoundedScrollBarRepeatButtonStyle" TargetType="RepeatButton">
        <Setter Property="Border.CornerRadius" Value="{StaticResource ScrollBarCornerRadius}"/>
        <Setter Property="SnapsToDevicePixels" Value="True"/>
        <Setter Property="OverridesDefaultStyle" Value="True"/>
        <Setter Property="IsTabStop" Value="False"/>
        <Setter Property="Focusable" Value="False"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="RepeatButton">
                    <Border
                        Background="Transparent"
                        Width="{StaticResource ScrollBarWidth}"
                        CornerRadius="{TemplateBinding Border.CornerRadius}"/>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <Style x:Key="RoundedScrollBarThumbStyle" TargetType="Thumb">
        <Setter Property="Background" Value="{StaticResource ControlBackgroundFillColorBrush3}"/>
        <Setter Property="Border.CornerRadius" Value="{StaticResource ScrollBarCornerRadius}"/>
        <Setter Property="SnapsToDevicePixels" Value="True"/>
        <Setter Property="OverridesDefaultStyle" Value="True"/>
        <Setter Property="IsTabStop" Value="False"/>
        <Setter Property="Focusable" Value="False"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="Thumb">
                    <Border
                        Background="{TemplateBinding Background}"
                        BorderBrush="{TemplateBinding BorderBrush}"
                        Width="{StaticResource ScrollBarWidth}"
                        CornerRadius="{TemplateBinding Border.CornerRadius}"/>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <ControlTemplate x:Key="RoundedVerticalScrollBar" TargetType="ScrollBar">
        <Grid>
            <Border
                Width="{StaticResource ScrollBarWidth}"
                CornerRadius="{StaticResource ScrollBarCornerRadius}"/>
            <Track x:Name="PART_Track" IsDirectionReversed="True">
                <Track.DecreaseRepeatButton>
                    <RepeatButton
                        Style="{StaticResource RoundedScrollBarRepeatButtonStyle}"
                        Command="ScrollBar.PageUpCommand"/>
                </Track.DecreaseRepeatButton>
                <Track.Thumb>
                    <Thumb Style="{StaticResource RoundedScrollBarThumbStyle}"/>
                </Track.Thumb>
                <Track.IncreaseRepeatButton>
                    <RepeatButton
                        Style="{StaticResource RoundedScrollBarRepeatButtonStyle}"
                        Command="ScrollBar.PageDownCommand"/>
                </Track.IncreaseRepeatButton>
            </Track>
        </Grid>
    </ControlTemplate>

    <Style x:Key="RoundedScrollBarScrollViewerStyle" TargetType="ScrollViewer">
        <!-- Comment to see scrollbar during development 
        <Setter Property="VerticalScrollBarVisibility" Value="Auto"/>
        -->
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="ScrollViewer">
                    <Grid x:Name="Grid" Background="{TemplateBinding Background}">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="*"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        <ScrollContentPresenter
                            Grid.Column="0" Grid.Row="0"
                            x:Name="PART_ScrollContentPresenter"
                            Content="{TemplateBinding Content}"
                            Margin="{TemplateBinding Padding}"
                            ContentTemplate="{TemplateBinding ContentTemplate}"
                            CanHorizontallyScroll="False"
                            CanVerticallyScroll="False"
                            CanContentScroll="{TemplateBinding CanContentScroll}"/>
                        <ScrollBar
                            Grid.Column="1" Grid.Row="0"
                            x:Name="PART_VerticalScrollBar"
                            Template="{StaticResource RoundedVerticalScrollBar}"
                            Cursor="Arrow"
                            Maximum="{TemplateBinding ScrollableHeight}"
                            Minimum="0"
                            AutomationProperties.AutomationId="VerticalScrollBar"
                            Value="{Binding VerticalOffset, Mode=OneWay, RelativeSource={RelativeSource Mode=TemplatedParent}}"
                            ViewportSize="{TemplateBinding ViewportHeight}"
                            Visibility="{TemplateBinding ComputedVerticalScrollBarVisibility}"/>
                        <ScrollBar
                            Grid.Column="0" Grid.Row="1"
                            x:Name="PART_HorizontalScrollBar"
                            Orientation="Horizontal"
                            Cursor="Arrow"
                            Maximum="{TemplateBinding ScrollableWidth}"
                            Minimum="0"
                            AutomationProperties.AutomationId="HorizontalScrollBar"
                            Value="{Binding HorizontalOffset, Mode=OneWay, RelativeSource={RelativeSource Mode=TemplatedParent}}"
                            ViewportSize="{TemplateBinding ViewportWidth}"
                            Visibility="{TemplateBinding ComputedHorizontalScrollBarVisibility}"/>
                        <Rectangle
                            Grid.Column="1" Grid.Row="1"
                            x:Name="Corner"
                            Fill="{DynamicResource {x:Static SystemColors.ControlBrushKey}}"/>

                    </Grid>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
        <Style.Triggers>
            <!-- #Mouse over behaviors -->
            <Trigger Property="IsMouseOver" Value="True">
                <Setter Property="VerticalScrollBarVisibility" Value="Auto"/>
                <Setter Property="HorizontalScrollBarVisibility" Value="Auto"/>
            </Trigger>
            <Trigger Property="IsMouseOver" Value="False">
                <Setter Property="VerticalScrollBarVisibility" Value="Hidden"/>
                <Setter Property="HorizontalScrollBarVisibility" Value="Hidden"/>
            </Trigger>
            <!-- #Disabled behaviors -->
            <Trigger Property="IsEnabled" Value="False">
                <Setter Property="Foreground" Value="{DynamicResource {x:Static SystemColors.GrayTextBrushKey}}"/>
            </Trigger>
        </Style.Triggers>
    </Style>
    
</ResourceDictionary>